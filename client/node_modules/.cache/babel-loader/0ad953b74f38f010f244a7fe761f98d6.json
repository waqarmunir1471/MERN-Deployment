{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/New Deployment/Pet_Exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';import{Link,navigate}from'@reach/router';var UpdatePet=function UpdatePet(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),PetName=_useState2[0],setPetName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),PetType=_useState4[0],setPetType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),PetDesc=_useState6[0],setPetDesc=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),Skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),Skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loaded=_useState16[0],setLoaded=_useState16[1];useEffect(function(){Axios.get(\"http://localhost:8000/api/details/\"+props.id).then(function(res){setPetName(res.data.PetName);setPetType(res.data.PetType);setPetDesc(res.data.PetDesc);setSkill1(res.data.Skill1);setSkill2(res.data.Skill2);setSkill3(res.data.setSkill3);setLoaded(true);console.log(res.data.errors);// setLoaded(true);\n});},[]);var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();Axios.put(\"http://localhost:8000/api/update/\"+props.id,{PetName:PetName,PetDesc:PetDesc,PetType:PetType,Skill1:Skill1,Skill2:Skill2,Skill3:Skill3}).then(function(res){if(res.data.errors){var errorResponse=res.data.errors;// Get the errors from err.response.data\nvar errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);console.log(errorArr);console.log(res.data.errors);}else{navigate(\"/\");}});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container col-lg-8\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter \"),/*#__PURE__*/React.createElement(\"h3\",null,\"Edit \",PetName,\" \"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitHandler,className:\"form-group col-lg-6\"},errors!=null?errors.map(function(msg){return/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger\"},msg);}):null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Name : \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:PetName,onChange:function onChange(e){return setPetName(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Type : \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:PetType,onChange:function onChange(e){return setPetType(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Description : \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:PetDesc,onChange:function onChange(e){return setPetDesc(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1 :(Optional) \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:Skill1,onChange:function onChange(e){return setSkill1(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 2 :(Optional) \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:Skill2,onChange:function onChange(e){return setSkill2(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 3 :(Optional) \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:Skill3,onChange:function onChange(e){return setSkill3(e.target.value);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-success\",onChange:\"Add a Pet\"}))),/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\"},\"Go Back\")));};export default UpdatePet;","map":{"version":3,"sources":["/Users/admin/Desktop/New Deployment/Pet_Exam/client/src/components/UpdatePet.js"],"names":["React","useState","useEffect","Axios","Link","navigate","UpdatePet","props","PetName","setPetName","PetType","setPetType","PetDesc","setPetDesc","Skill1","setSkill1","Skill2","setSkill2","Skill3","setSkill3","errors","setErrors","loaded","setLoaded","get","id","then","res","data","console","log","onSubmitHandler","e","preventDefault","put","errorResponse","errorArr","Object","keys","key","push","message","map","msg","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Axios from 'axios';\nimport {Link,navigate} from '@reach/router';\n\nconst UpdatePet = (props)=>{\n    const [PetName, setPetName] = useState(\"\");\n    const [PetType, setPetType] = useState(\"\");\n    const [PetDesc, setPetDesc] = useState(\"\");\n    const [Skill1, setSkill1] = useState(\"\");\n    const [Skill2, setSkill2] = useState(\"\");\n    const [Skill3, setSkill3] = useState(\"\");\n    const [errors, setErrors] = useState();\n    const [loaded, setLoaded] = useState( false)\n\n    useEffect(() => {\n        Axios.get(\"http://localhost:8000/api/details/\" + props.id)\n            .then(res => {\n                setPetName(res.data.PetName)\n                setPetType(res.data.PetType)\n                setPetDesc(res.data.PetDesc)\n                setSkill1(res.data.Skill1)\n                setSkill2(res.data.Skill2)\n                setSkill3(res.data.setSkill3)\n            setLoaded(true);\n\n            console.log(res.data.errors)\n            // setLoaded(true);\n        })},[])\n    const onSubmitHandler =e=>{\n        e.preventDefault();\n        Axios.put(\"http://localhost:8000/api/update/\"+props.id,{\n            PetName,\n            PetDesc,\n            PetType,\n            Skill1,\n            Skill2,\n            Skill3\n        })\n        .then(res=>{\n            if(res.data.errors){\n                const errorResponse = res.data.errors; // Get the errors from err.response.data\n                const errorArr = []; // Define a temp error array to push the messages in\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\n                    errorArr.push(errorResponse[key].message)\n                }\n                // Set Errors\n                setErrors(errorArr);\n                console.log(errorArr);\n                console.log(res.data.errors);\n            }else{\n                navigate(\"/\")\n            }\n        })\n    }\n    return(\n        \n        <div className=\"container col-lg-8\">\n\n            <h1>Pet Shelter </h1>\n            <h3>Edit {PetName} </h3>\n            <form onSubmit={onSubmitHandler} className=\"form-group col-lg-6\">\n            {errors != null ? errors.map(msg=>(<p className=\"alert alert-danger\">{msg}</p>)):null}\n\n                    <p>\n                        <label>Pet Name : </label>\n                        <input type=\"text\" className=\"form-control\"  value={PetName} onChange={(e)=>setPetName(e.target.value)}/>\n                    </p>\n                    <p>\n                        <label>Pet Type : </label>\n                        <input type=\"text\" className=\"form-control\" value={PetType} onChange={(e)=>setPetType(e.target.value)}/>\n                    </p>\n                    <p>\n                        <label>Pet Description : </label>\n                        <input type=\"text\" className=\"form-control\" value={PetDesc} onChange={(e)=>setPetDesc(e.target.value)}/>\n                    </p>\n                    <p>\n                        <label>Skill 1 :(Optional) </label>\n                        <input type=\"text\" className=\"form-control\" value={Skill1}onChange={(e)=>setSkill1(e.target.value)}/>\n                    </p>\n                    <p>\n                        <label>Skill 2 :(Optional) </label>\n                        <input type=\"text\" className=\"form-control\" value={Skill2} onChange={(e)=>setSkill2(e.target.value)}/>\n                    </p>\n                    <p>\n                        <label>Skill 3 :(Optional) </label>\n                        <input type=\"text\" className=\"form-control\"value={Skill3} onChange={(e)=>setSkill3(e.target.value)}/>\n                    </p>\n                    <p>\n                        <input type=\"submit\" className=\"btn btn-success\" onChange=\"Add a Pet\"/>\n                    </p>\n            </form>\n            <Link to=\"/\"><button className=\"btn btn-primary\">Go Back</button></Link>\n        </div>\n    )\n}\n\nexport default UpdatePet;"]},"metadata":{},"sourceType":"module"}